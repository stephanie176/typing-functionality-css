<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CSS typewriter — one word per slot (pure CSS)</title>
<style>
  :root{
    --slot: 3s;          /* duration for one word */
    --words: 5;          /* number of words */
    --total: calc(var(--slot) * var(--words));
    --cursor-width: .12em;
  }

  body{
    margin:2rem;
    background:#2f3542;
    color:#fff;
    font-family: "Courier New", monospace;
  }

  .rw-sentence{
    margin:0;
    display:flex;
    align-items:center;
    gap:.6rem;
    font-size:2rem;
    line-height:1;
  }

  .rw-words{
    display:inline-block;
    position:relative;
    vertical-align:bottom;
    height:1.15em; /* reserve height so there's no jump */
    min-width:8ch; /* optional: prevent layout shift if you want */
  }

  .type{
    position:absolute;
    left:0; top:0;
    white-space:nowrap;
    overflow:hidden;
    box-sizing:content-box;
    border-right: var(--cursor-width) solid currentColor;
    width:0;
    opacity:0;

    /* typing runs across the full loop; a small window of that loop is the active slot
       The blink cursor runs independently (no delay). */
    animation: typing var(--total) steps(var(--chars)) infinite,
               blink .7s steps(1) infinite;
    animation-fill-mode: both, none; /* ensure hidden before slot and after */
    animation-timing-function: steps(var(--chars)), steps(1);
  }

  /* typing keyframes:
     Visible only during the first (slot/total) portion of the element's cycle.
     For 6 words that's ~16.666% of the total loop.
     Inside that window we type (0 → 60% of slot), hold (60→80%), delete (80→100%).
     The numbers below are percentages of the FULL loop. They keep each word's activity
     packed into its own slot so other words are hidden. */
  @keyframes typing {
    0%      { width:0; opacity:0; }     
    2%      { opacity:1; }                
    12%     { width: calc(var(--chars) * 1ch); opacity:1; }  /* typed */
    16%     { width: calc(var(--chars) * 1ch); opacity:1; }  /* hold */
    20%     { width:0; opacity:1; }       /* delete */
    20.1%   { width:0; opacity:0; }       /* hide rest of loop */
    100%    { width:0; opacity:0; }
  }


  @keyframes blink { 50% { border-color: transparent; } } 

  /* ---------- stagger each word into its slot (0, 1*slot, 2*slot, ...) ---------- */
  .rw-words .type:nth-child(1) { animation-delay: calc(var(--slot) * 0), 0s; }
  .rw-words .type:nth-child(2) { animation-delay: calc(var(--slot) * 1), 0s; }
  .rw-words .type:nth-child(3) { animation-delay: calc(var(--slot) * 2), 0s; }
  .rw-words .type:nth-child(4) { animation-delay: calc(var(--slot) * 3), 0s; }
  .rw-words .type:nth-child(5) { animation-delay: calc(var(--slot) * 4), 0s; }

  /* If you add/remove words, update --words and add/remove the nth-child lines above.
     Also ensure each <span class="type"> has a correct --chars inline variable. */
</style>
</head>
<body>
  <div class="rw-wrapper">
    <h2 class="rw-sentence">
      <p>Grace</p>
      <span>I want nothing but</span>
      <div class="rw-words" aria-hidden="true">
        
        <!-- set --chars accurately (letters + spaces) -->
        <span class="type" style="--chars:5;">spice</span>
        <span class="type" style="--chars:5;">color</span>
        <span class="type" style="--chars:9;">happiness</span>
        <span class="type" style="--chars:6;">wonder</span>
        <span class="type" style="--chars:5;">sugar</span>
      </div>
       <p>Span</p>
    </h2>
  </div>
</body>
</html>
